plugins {
    id 'org.beryx.runtime'
}

repositories {
    mavenCentral()
}

sourceCompatibility = 17
targetCompatibility = 17

ext.log4jVersion = '2.9.0'

dependencies {
    implementation "org.apache.logging.log4j:log4j-api:$log4jVersion"
    implementation "org.apache.logging.log4j:log4j-core:$log4jVersion"
    implementation "org.apache.logging.log4j:log4j-slf4j-impl:$log4jVersion"
    implementation "javax.xml.bind:jaxb-api:2.3.0"
}

application {
    mainClass = 'org.example.runtime.hello.Hello'
}

jar {
    manifest {
        attributes 'Implementation-Title': "hello",
                'Main-Class': 'org.example.runtime.hello.Hello'
    }
}

tasks.runtime.doLast {
    copy {
        from('src/main/resources')
        into("$buildDir/image/bin")
    }
}
